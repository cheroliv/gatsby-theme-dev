<p align="center">
  <a href="https://www.gatsbyjs.com">
    <img alt="Gatsby" src="https://www.gatsbyjs.com/Gatsby-Monogram.svg" width="60" />
  </a>
</p>
<h1 align="center">
  Gatsby's hello-world starter
</h1>

Kick off your project with this hello-world boilerplate. This starter ships with the main Gatsby configuration files you might need to get up and running blazing fast with the blazing fast app generator for React.

_Have another more specific idea? You may want to check out our vibrant collection of [official and community-created starters](https://www.gatsbyjs.com/docs/gatsby-starters/)._

## üöÄ Quick start

1.  **Create a Gatsby site.**

    Use the Gatsby CLI to create a new site, specifying the hello-world starter.

    ```shell
    # create a new Gatsby site using the hello-world starter
    gatsby new my-hello-world-starter https://github.com/gatsbyjs/gatsby-starter-hello-world
    ```

1.  **Start developing.**

    Navigate into your new site‚Äôs directory and start it up.

    ```shell
    cd my-hello-world-starter/
    gatsby develop
    ```

1.  **Open the source code and start editing!**

    Your site is now running at `http://localhost:8000`!

    _Note: You'll also see a second link: _`http://localhost:8000/___graphql`_. This is a tool you can use to experiment with querying your data. Learn more about using this tool in the [Gatsby tutorial](https://www.gatsbyjs.com/tutorial/part-five/#introducing-graphiql)._

    Open the `my-hello-world-starter` directory in your code editor of choice and edit `src/pages/index.js`. Save your changes and the browser will update in real time!

## üßê What's inside?

A quick look at the top-level files and directories you'll see in a Gatsby project.

    .
    ‚îú‚îÄ‚îÄ node_modules
    ‚îú‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ .gitignore
    ‚îú‚îÄ‚îÄ .prettierrc
    ‚îú‚îÄ‚îÄ gatsby-browser.js
    ‚îú‚îÄ‚îÄ gatsby-config.js
    ‚îú‚îÄ‚îÄ gatsby-node.js
    ‚îú‚îÄ‚îÄ gatsby-ssr.js
    ‚îú‚îÄ‚îÄ LICENSE
    ‚îú‚îÄ‚îÄ package-lock.json
    ‚îú‚îÄ‚îÄ package.json
    ‚îî‚îÄ‚îÄ README.md

1.  **`/node_modules`**: This directory contains all of the modules of code that your project depends on (npm packages) are automatically installed.

2.  **`/src`**: This directory will contain all of the code related to what you will see on the front-end of your site (what you see in the browser) such as your site header or a page template. `src` is a convention for ‚Äúsource code‚Äù.

3.  **`.gitignore`**: This file tells git which files it should not track / not maintain a version history for.

4.  **`.prettierrc`**: This is a configuration file for [Prettier](https://prettier.io/). Prettier is a tool to help keep the formatting of your code consistent.

5.  **`gatsby-browser.js`**: This file is where Gatsby expects to find any usage of the [Gatsby browser APIs](https://www.gatsbyjs.com/docs/browser-apis/) (if any). These allow customization/extension of default Gatsby settings affecting the browser.

6.  **`gatsby-config.js`**: This is the main configuration file for a Gatsby site. This is where you can specify information about your site (metadata) like the site title and description, which Gatsby plugins you‚Äôd like to include, etc. (Check out the [config docs](https://www.gatsbyjs.com/docs/gatsby-config/) for more detail).

7.  **`gatsby-node.js`**: This file is where Gatsby expects to find any usage of the [Gatsby Node APIs](https://www.gatsbyjs.com/docs/node-apis/) (if any). These allow customization/extension of default Gatsby settings affecting pieces of the site build process.

8.  **`gatsby-ssr.js`**: This file is where Gatsby expects to find any usage of the [Gatsby server-side rendering APIs](https://www.gatsbyjs.com/docs/ssr-apis/) (if any). These allow customization of default Gatsby settings affecting server-side rendering.

9.  **`LICENSE`**: This Gatsby starter is licensed under the 0BSD license. This means that you can see this file as a placeholder and replace it with your own license.

10. **`package-lock.json`** (See `package.json` below, first). This is an automatically generated file based on the exact versions of your npm dependencies that were installed for your project. **(You won‚Äôt change this file directly).**

11. **`package.json`**: A manifest file for Node.js projects, which includes things like metadata (the project‚Äôs name, author, etc). This manifest is how npm knows which packages to install for your project.

12. **`README.md`**: A text file containing useful reference information about your project.

## üéì Learning Gatsby

Looking for more guidance? Full documentation for Gatsby lives [on the website](https://www.gatsbyjs.com/). Here are some places to start:

- **For most developers, we recommend starting with our [in-depth tutorial for creating a site with Gatsby](https://www.gatsbyjs.com/tutorial/).** It starts with zero assumptions about your level of ability and walks through every step of the process.

- **To dive straight into code samples, head [to our documentation](https://www.gatsbyjs.com/docs/).** In particular, check out the _Guides_, _API Reference_, and _Advanced Tutorials_ sections in the sidebar.

## üí´ Deploy

[![Deploy to Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/gatsbyjs/gatsby-starter-hello-world)

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/import/project?template=https://github.com/gatsbyjs/gatsby-starter-hello-world)





<h1 align="center">
  Frontend Masters: Introduction to Gatsby
</h1>

In this course, learn to build blazing fast apps and websites with React using Gatsby, a static PWA (Progressive Web App) generator. Over 50% of people will abandon a mobile site if it takes more than 3 seconds to load. Unless you‚Äôre willing to give up half of your potential customers, performance is no longer optional on the modern web. Fortunately, there are a lot of tools available to help you build screaming fast websites. Unfortunately, there‚Äôs a frighteningly large number of performance considerations, and many of them are easy to get wrong.

## What You‚Äôll Learn

- Learn how to leverage free, open source tools including Gatsby, React, and
  GraphQL to build high-performance websites.
- Deliver an excellent experience to your users by providing only critical
  assets on load and prefetching assets for subsequent page loads.
- Implement performance best practices, such as the PRPL pattern, lazy
  loading assets, and more.
- Learn to build and deploy blazing fast websites in the fraction of time.
- Create websites quickly with performance baked in.
- Deploy your sites for free in minutes with Netlify.

## A Note About Running the Code

We recommend getting the [code running on your computer](#getting-course-code-running-on-your-machine) to build your confidence working with Gatsby. If you get stuck, use the [Course Errata](#course-errata) below to debug, or refer to the the step branches to see what is different between your code and the reference code.

## Course Code Running on CodeSandbox

You can jump into the CodeSandbox for each branch without having to get the code running on your computer. Keep in mind, that if you want to modify the code, you'll need to create a CodeSandbox free account to fork a new sandbox and save it to your CodeSandbox account.

- [Course Starter](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/master/)
- [Step 0: Pages & Links](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step0/pages-and-links) 
- [Step 1: Styles](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step1/styles)
- [Step 2: GraphQL & SEO](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step2/graphql-and-seo)
- [Step 3: MDX](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step3/mdx)
- [Step 4: MDX Blog](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step4/mdx-blog)
- [Step 5: Hero Image](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step5/hero-image)
- [Step 6: Blog Images](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step6/blog-images)
- [Step 7: Source Plugins with Instagram Datasource](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step7/source-plugins)
- [Step 8: Analyze Bundle](https://codesandbox.io/s/github/FrontendMasters/gatsby-intro/tree/step8/analyze) (must fork to run npm run analyze)

## Getting Course Code Running on Your Machine

For windows users, go through the installation instructions for [cross-env](https://github.com/kentcdodds/cross-env) and add it to your `package.json` develop script.

1. `npm install`
1. `npm run develop`
1. Open http://localhost:8000/

[Course Slides](https://jlengstorf.github.io/presentations/workshop-gatsby-mdx-blog/#/) (hit the right/down arrow keys to progress through the slides)

Refer to the Course Errata below if you are running into issues.

### Prerequisites

1. Have a text editor installed, i.e. [VSCode](https://code.visualstudio.com/)
2. Have the Gatsby CLI (gatsby-cli) installed globally by running:
   `npm install -g gatsby-cli`
   
## Course Errata

### Video: [Rendering Components in MDX](https://frontendmasters.com/courses/gatsby/rendering-components-in-mdx/) video at 1 minute, 32 seconds where Jason installs the Gatsby MDX plugin.

#### The `gatsby-mdx` plugin was deprecated in favor of `gatsby-plugin-mdx`.

Fixed code: See this [commit to migrate to gatsby-plugin-mdx](https://github.com/FrontendMasters/gatsby-intro/commit/fe9aae6255cc1749205f95e8ca6698476f992a61)

`npm install gatsby-plugin-mdx` instead of `gatsby-mdx`

View the `step4/mdx-blog` branch for final code for the section.

### Video: [Adding Optimized Images to Post](https://frontendmasters.com/courses/gatsby/adding-optimized-images-to-posts/) at 1 minute, 49 seconds where Jason configures remark images.

#### An additional config line needs to be added to configure `gatsby-remark-images`.

Fixed code: See this [commit to configure `gatsby-remark-images'`](https://github.com/FrontendMasters/gatsby-intro/commit/932de28e17f89888d0826e0b6148a9d9452f95cb)

```javascript
    {
      resolve: 'gatsby-plugin-mdx',
      options: {
        defaultLayouts: {
          default: require.resolve('./src/components/layout.js'),
        },
        gatsbyRemarkPlugins: ['gatsby-remark-images'],
        plugins: ['gatsby-remark-images'],
      },
    },
```

View the `step6/blog-images` branch for final code for the section.

### Video: [Getting Post by Slug](https://frontendmasters.com/courses/gatsby/getting-post-data-by-slug/) at 4 minutes, 55 seconds where Jason gets the post body.

#### gatsby-plugin-mdx no longer requires `body` to be nested in `code` in the query

in ```post.js``` the query should be

```javascript
export const query = graphql`
  query($slug: String!) {
    mdx(frontmatter: { slug: { eq: $slug } }) {
      frontmatter {
        title
        author
      }
      body
    }
  }
`
```

Instead of 

```javascript
export const query = graphql`
  query($slug: String!) {
    mdx(frontmatter: { slug: { eq: $slug } }) {
      frontmatter {
        title
        author
      }
      code {
        body
      }
    }
  }
```

More details in [issue #27](https://github.com/FrontendMasters/gatsby-intro/issues/27)



# Intermediate/Advanced Gatsby

A Frontend Masters workshop.

## Setup

Clone this repo locally:

```
git clone git@github.com:jlengstorf/gatsby-intermediate.git
```

Make sure you‚Äôre on the `start` branch:

```
git checkout start
```

## Part I: Create a Docs Theme

- Set up Yarn workspaces
- Create a site for theme dev
- Create the `packages/gatsby-theme-docs` folder
  - `yarn init`
  - Create `index.js` (`// boop`)
- Install the docs theme
  - `yarn workspace negronis add "gatsby-theme-docs@*"` (quotes for Windows)
  - Add default config to `gatsby-config.js`
- Make sure the content directory exists (`onPreBootstrap`)
  - `yarn add mkdirp`
  - Validate that this works by starting the `theme-dev` site in `develop` mode :
  ```yarn workspace theme-dev develop```
- Define the docs data type (`createSchemaCustomization`)
  - Show this data type in GraphiQL
  - Run a query to show it returning an empty array
- Create docs nodes from MDX files (`onCreateNode`)
  - Only get the docs, not all MDX files
- Define a custom resolver to get the MDX `body` content (`createResolvers`)
  - Write a passthrough resolver (hat tip to @christopherbiscardi for the original work to figure out how these work)
- Create the required React components to display a docs page
  - Create a `Layout` component (`src/components/layout.js`)
  - Create a `DocsPage` component (`src/components/docs-page.js`)
    - Set up `MDXRenderer`
  - Create a `DocsPageTemplate` component (`src/templates/docs-page-template.js`)
    - Write the GraphQL query in GraphiQL first
    - Use the Code Exporter to get started
- Create pages from the docs nodes (`createPages`)
  - Write a GraphQL query in GraphiQL first
- Add Theme UI
  - `yarn workspace gatsby-theme-docs add theme-ui gatsby-plugin-theme-ui @emotion/core @mdx-js/react`
  - Update `gatsby-config.js`
  - Add a theme file (`src/gatsby-plugin-theme-ui/index.js`)
  - Update `Layout` to use Theme UI
  - Update `DocsPage` to use Theme UI
- Create a `TableOfContents` component (`src/components/table-of-contents.js`)
  - Write a `useDocs` hook (`src/hooks/use-docs.js`)
- Add support for syntax highlighted code
  - `yarn workspace gatsby-theme-docs add mdx-utils prism-react-renderer`
  - Create a `Code` component (`src/components/code.js`)
  - Shadow the MDX components in Theme UI to use `Code` (`src/gatsby-plugin-theme-ui/components.js`)
  - Insert a fenced code block (use `src/components/docs-page.js`) into `docs/index.mdx`
- Add support for live editing code blocks
  - `yarn workspace gatsby-theme-docs add react-live`
  - Add a scope file for easy shadowing
  - Update `Code` to use `react-live`

## Part II: Honkify

- Install the docs theme
  - `yarn workspace negronis add "gatsby-theme-docs@*"` (quotes for Windows)
  - Update `gatsby-config.js` with custom basePath and disable theme MDX
  - The existing theme from the Honkify site will automatically override the docs Theme UI config
  - Shadow the `Layout` component
- Create a `Button` component (`src/components/button.js`)
  - Shadow the `scope.js` file to add `Button`
  - Add the `Button` component in a live-editable code block in the docs
  - Show it interacting with Honkify

## Part III: Build a Negroni Fan Site

- Add Theme UI
  - `yarn workspace negronis add theme-ui gatsby-plugin-theme-ui @emotion/core @mdx-js/react`
  - Add a preset (`yarn workspace negronis add @theme-ui/presets`)
  - Create a theme file (`src/gatsby-plugin-theme-ui/index.js`)
- Create a `Layout` component (`src/components/layout.js`)
  - Update `src/pages/index.js` to use the `Layout`
  - Update `src/pages/history.js` to use the `Layout`
  - Add styles for a hollow button
- Add image support
  - `yarn workspace negronis add gatsby-source-filesystem gatsby-transformer-cloudinary gatsby-image`
  - Get credentials from Cloudinary
  - Add env vars to `.env.development`
  - Load env vars in `gatsby-config.js`
  - Add plugin config to `gatsby-config.js`
  - Query for images
    - Show this in GraphiQL first
  - Update `src/pages/index.js` to display an image
    - Quick aside to show transformations with Cloudinary because they‚Äôre dope
  - Update `src/pages/history.js` to display an image
- Install the docs theme
  - Recipes are a kind of documentation! :)
  - `yarn workspace negronis add "gatsby-theme-docs@*"` (quotes for Windows)
  - Add modified config to `gatsby-config.js`
    - `basePath: '/recipes'`
    - `contentPath: 'content/recipes'`
- Update `src/pages/index.js` to link to `/recipes`
  - Add styles for a primary button
- Shadow the `Layout` component in the docs theme
- Shadow the `TableOfContents` component in the docs theme
- Install the events theme
  - `yarn workspace negronis add @jlengstorf/gatsby-theme-events`
  - This was built as part of this free course on authoring Gatsby themes: https://egghead.io/courses/gatsby-theme-authoring
  - Update `gatsby-config.js` with a custom basePath and contentPath
  - Shadow the `Layout` component in the events theme

## Part IV: Rick & Morty Lookup App

- Add support for client-side GraphQL queries
  - `yarn workspace lookup add gatsby-plugin-apollo @apollo/react-common @apollo/react-hooks graphql-tag`
  - Update `gatsby-config.js` to use `gatsby-plugin-apollo`
  - Point Apollo at the Rick & Morty API (https://rickandmortyapi.com/graphql/)
- Create pages
  - `src/pages/index.js`
  - `src/pages/search.js`
- Add support for client-only routes
  - `gatsby-node.js` (`onCreatePage`/`matchPath`)
  - Add a redirect `netlify.toml`
  - Test using `netlify dev`
- Create a search form
  - React hooks
  - Programmatic navigation
  - Add a submit handler
- Create a results component
  - Query based on the current search string
- Figure out the search string from state or URL
  - `location`

